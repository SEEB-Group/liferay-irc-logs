--- Log opened Thu Apr 24 00:00:44 2014
10:07 < sm`> Hello
10:07 < sm`> anyone around to help me out with exposing custom json web serivice from existing liferay plugin?
10:10 < bijoo_> sm`: have you added  @WebService here?
10:10 < sm`> here's my exception, web.xml and service.xml
10:10 < sm`> http://pastebin.com/43vYTfPj
10:10 < bijoo_> @JSONWebService ****
10:11 < sm`> im following https://www.liferay.com/documentation/liferay-portal/6.1/development/-/ai/json-web-services
10:11 < sm`> yes i basiccally added new service
10:11 < sm`> edited service.xml, built the service
10:12 < sm`> added @JSONWebService on the ServiceImpl class
10:12 < sm`> edited web.xml like the documentation says
10:12 < sm`> rebuilt the service again
10:12 < sm`> packed it in .war
10:12 < sm`> and deployed it
10:12 < bijoo_> sm`: okay, have you tried it while login there? Try logging in as the Admin and try.
10:12 < sm`> i can see the service its there, but when i try to make a call to it, i get the exception
10:13 < sm`> bijoo, i did, im logged in as admin
10:13 < sm`> bijoo_ *
10:13 < sm`> :)
10:14 < topolik> sm`: what URL do you call?
10:14 < topolik> from the documentation: "There are two ways to access a plugin’s JSON Web Services. We’ll call them, ingeniously, Option 1 and Option 2."
10:17 < sm`> topolik: http://dwww/StoreFinder-portlet/api/jsonws/storefinderapi/get-store-types?p_auth=caeP8svu
10:17 < topolik> this is the "Option 1"
10:17 < topolik> if you call it from JS it won't work
10:18 < sm`> im calling it with simple browser get request
10:18 < topolik> hmm
10:18 < topolik> Liferay 6.1?
10:18 < sm`> yep
10:18 < topolik> what exception you get?
10:18 < sm`> wait, there is some new exception when i restart the server
10:19 < sm`> http://pastebin.com/cgL5PJbQ
10:19 < sm`> topolik: http://pastebin.com/43vYTfPj you can see the exception, web.xml and service.xml here
10:20 < sm`> [not sure if i should paste here] ;]
10:20 < topolik> that's ok
10:21 < topolik> the problem with UserImpl seems to be related to session serialization
10:22 < topolik> com.liferay.portal.kernel.bean.BeanLocatorException: BeanLocator has not been set for servlet context StoreFinder-portlet
10:22 < topolik> This is a problem in your spring definition
10:24 < topolik> I'm not sure now how it is when you have your custom spring definition + use ServiceBuilder, which also use Spring config files, but other config files
10:24 < sm`> im using my own applicationContext.xml which defines my spring beans
10:24 < sm`> i have <context:component-scan base-package="com.iwmn.storefinder" />
10:25 < sm`> the service pkg is under that one
10:27 < topolik> hmm
10:27 < bijoo_> sm`: another approach is more simpler: Liferay.Service.*.*.method
10:27 < topolik> there could 2 ways, don't know which would work :)
10:28 < topolik> can you try to remove the ContextLoaderListener and /WEB-INF/applicationContext.xml from your web.xml
10:28 < topolik> and declare the spring beans in ext-spring.xml file?
10:28 < topolik> ext-spring.xml should be generated by service builder
10:28 < bijoo_> sm`: go to your portal, open up console; type in Liferay.Service.(press tab)  ; see if your service is registered there.
10:29 < bijoo_> sm`: note you'd have to have service.js
10:29 < sm`> topolic, basically move my contents from my app.xml to ext-spring.xml, right?
10:30 < sm`> bijoo_, thats not the issue bro the web method is throwing me different exception
10:30 < sm`> i can see the method and the webservice there, yies
10:31 < topolik> sm`: yup, it's possible that your spring declaration collides with service builder spring declarations

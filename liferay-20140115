--- Log opened Wed Jan 15 00:00:37 2014
03:55 < nicolas_FR:#liferay> hi there
03:57 < nicolas_FR:#liferay> we have browser caching problems with liferay 5.2.3. Here is the gtmetrix report : http://gtmetrix.com/reports/www.interiale.fr/lMUGc9tc. Anyone got advices on configuration ?
04:23 < haba713:#liferay> hi! can you open service.xml with your liferay ide? i get an error message "Failed to create the part's controls". i've installed eclipse again and liferay ide into it. i created a new workspace but i get still the same error.
04:24 < haba713:#liferay> ah... it's maybe this issue: https://support.liferay.com/browse/IDE-1360
04:40 < lapache:#liferay> Hello, i perform an ldap auth with my liferay 6.1.1 instance, but i have a question. Is it possible that all the user's dependant informations are stored inside the ldap ? like secret answer, roles etc... ?
04:47 < Tar-Minyatur:#liferay> lapache: If I recall correctly, Liferay only syncs it's user database with LDAP. I don't think you can completely replace the user database with LDAP ootb.
04:47 < Tar-Minyatur:#liferay> *its
05:23 < Tar-Minyatur:#liferay> Does somebody know if this issue has been fixed in any version of Liferay? -> https://www.liferay.com/de/web/kzhang/blog/-/blogs/solving-performance-issue-in-liferay-6-1-staging
07:59 < nicolas_FR:#liferay> hi, we're using liferay 5.2.3 on tomcat 6.0 and we seems to have cache issue (gtmetrix report : http://gtmetrix.com/reports/www.interiale.fr/fujrtHH8). Any advices ?
08:48 < nicolas_FR:#liferay> anyone know how to get the robots.txt file from liferay 5.2.3 ? I would like to be able to access it through : http://[server]/robots.txt
08:49 <@rotty3000:#liferay> Quick Poll: How Many people use SASS anywhere other than themes?
08:54 < whatsoever:#liferay> hey anyone ever used the jsp to connect to another API?
09:11 < jardineworks:#liferay> rotty3000, outside of a theme -- you mean in a plugin itself?
09:19 <@rotty3000:#liferay> yeah, or otherwise?
09:19 <@rotty3000:#liferay> like in a plugin's own CSS files for instance, inline CSS, etc
09:23 < jardineworks:#liferay> rotty3000, I have not had to do that yet, but I can defintiely think of cases where I would.
09:24 <@rotty3000:#liferay> wondering because we want to actually eliminate all runtime SASS compilation
09:25 <@rotty3000:#liferay> it's horribly inefficient.. and making it efficient has an immense cost in engineering and maintenance
09:25 <@rotty3000:#liferay> we're seeing little value in fixing it
09:27 < jardineworks:#liferay> rotty3000, 100% agree. At least make it so that you can turn it off and on.
09:27 < jardineworks:#liferay> its a PITA on our project right now
09:27 < jardineworks:#liferay> For our custom styles we're SASSing it all before we put it into the theme
09:27 <@rotty3000:#liferay> right
09:28 <@jhf:#liferay> rotty3000: would agree -after playing with themes for a while (for my webinar later today) I've come to the conclusion that sass is a good idea but not for runtime :)
09:30 < Tar-Minyatur:#liferay> rotty3000: I think even for using it in portlets it would be preferable, if SASS compilation would just be integrated into the build process.
09:30 <@rotty3000:#liferay> alright.. I'm sold..
09:30 < Tar-Minyatur:#liferay> We've been wondering about the whole on-the-fly SASS compilation since we started working with Liferay.
09:30 < Tar-Minyatur:#liferay> It's especially annoying when you want to use a CDN.
09:30 <@rotty3000:#liferay> I was hoping there would be no backlash from anyone in the community
09:30 < jardineworks:#liferay> yeah yeah! make it a OPTIONAL build step... like "build-service" :)
09:31 < jardineworks:#liferay> +1 beer for this
09:31 < jardineworks:#liferay> -1 hanging
09:31 <@rotty3000:#liferay> :)
09:31 <@jhf:#liferay> hey rotty3000 does that mean one could get rid of DynamicCSSFilter then?
09:31 <@jhf:#liferay> or would it just not do the sass bit
09:31 <@rotty3000:#liferay> jhf, yeah
09:31 < Tar-Minyatur:#liferay> I would be odd to see Liferay using SCSS itself, but not having it available for your own portlets.
09:31 <@jhf:#liferay> there's an option in portal.properties to disable it, but LR itself depends on it
09:31 <@rotty3000:#liferay> but just the sass part
09:32 < Tar-Minyatur:#liferay> *It
09:33 <@rotty3000:#liferay> thx all
09:33 <@rotty3000:#liferay> valuable information
09:33 < Tar-Minyatur:#liferay> If I may interrupt: Is there something similar to /c/journal/view_article_content but with the ability to select the template to be used?
09:33 < jardineworks:#liferay> best kill me of the day -- check out what I have to do to calculate the number of rows required for a bananas search results layout --
09:33 < jardineworks:#liferay> <c:set var="totalRows" value="${ fn:substring(totalItems / 4 + ((totalItems mod 4 > 0) ? 1: 0), 0, 1) }"/>
09:33 < jardineworks:#liferay> i love designers.
09:34 < Tar-Minyatur:#liferay> We have a situation where we are supposed to integrate one part of a Liferay page into another one. And sadly the default template doesn't work for that, so we want to propose creating a second template and then load the content using this template via /c/journal/view_article_content.
09:34 < Tar-Minyatur:#liferay> But it seems like switching the template isn't possible there... :-(
09:34 < jardineworks:#liferay> "'ll just put a box here, and another one here... and OU! let's overlap them by 1.5 px ... and... OH! I KNOW! different siszes! ... but they have to line up of course. Done."
09:35 < whatsoever:#liferay> <whatsoever> hey anyone ever used  jsp to connect to another API?
09:38 < nicolas_FR:#liferay> anyone know how to get robots.txt file from liferay 5.2.3 ? can't get it
09:42 < jardineworks:#liferay> whatsoever, can you elaborate?
09:42 < jardineworks:#liferay> nicolas_FR, what do you mean "get"?
09:42 < jardineworks:#liferay> you mean you want to see what is in it?
09:44 < whatsoever:#liferay> jardineworks, i need to connect my portlet to the API of my firms software, i  got the developers documentation with all classes, but i have no clue how to connect to the API
09:44 < whatsoever:#liferay> it is running on a tomcat as far as i know
09:45 < jardineworks:#liferay> whatsoever, does your firms software have external access? meaning --  are there services exposed that you can call?
09:46 < jardineworks:#liferay> also -- what kind of software is it? is it just a webapp that accesses a data store?
09:46 < whatsoever:#liferay> well not too sure what you mean: another employee managed to do it with vaadin, but i wanna use JSP for it. well dont know how i can explain my problem exactly ^_^
09:47 < whatsoever:#liferay> he used a services.xml to connect to the API (like that:          <import resource="classpath*:rmi/auth_rmi-client-services.xml" />  )
09:48 < whatsoever:#liferay> and stuff like that: (  <bean class="de.metasonic.support.context.ApplicationContextUtil" /> )
09:48 < jardineworks:#liferay> chances are what he has done in the portlet (.java file) you can do in the jsp. Just copy and paste the code into a <% ... %>
09:48 < jardineworks:#liferay> :)
09:48 < whatsoever:#liferay> yeah that were my toughts , as you can use any java code in jsp
09:49 < jardineworks:#liferay> right -- but not really a best practice
09:49 < whatsoever:#liferay> but i fail to connect to the API, due i am not sure if i can use serviceS.xml?
09:49 < whatsoever:#liferay> well i cant use his code anyway, its just about getting a connection to the API to use the classes
09:49 < jardineworks:#liferay> after including the services.xml in your plugin project, did you run the build-service ant target?
09:50 < whatsoever:#liferay> well that was a point i was worried about: is services.xml a servicelayer? if i just copy the services.xml , i have no option to run the build.service
09:51 < whatsoever:#liferay> but if i create a service layer on my own, its called service.xml, not serviceS.xml, not too sure about the difference though
09:51 < jardineworks:#liferay> oh I see --
09:51 < jardineworks:#liferay> why not ask your coworker what he did?
09:53 < whatsoever:#liferay> well i have a meeting next week, does not help me much atm ^_^
09:55 < whatsoever:#liferay> well just gonna make it with my own service layer and see whats happening ^_^
09:58 < jardineworks:#liferay> whatsoever, either way, you should probably be making the API calls from the portlet class (the .java file(s)) .. not the JSP.
09:59 < whatsoever:#liferay> hmm.. gonna be working in some cases, but when i have a table that shows information about user (for example), i cant do it over the .java file?)
10:04 < nicolas_FR:#liferay> jardineworks: what we want to achieve is letting the browser get the file robots.txt (which seems to be created by liferay)
10:05 < nicolas_FR:#liferay> jardineworks: this file should be at the root of the website. Fact is, when we enter the url http://website/robots.txt, it does nothing.
10:05 < whatsoever:#liferay> well thanks for your help jardineworks, prob waiting for my meeting to get details, its very confusing ^_^
10:17 < nicolas_FR:#liferay> anyone know how the robots.txt file is generated by Liferay (if it is ? Which seems so..)
10:21 < bijoo_:#liferay> nicolas_FR: yes, it is generated by the site.
10:22 < nicolas_FR:#liferay> bijoo_: well.. we can't access robots.txt from website root, anything to configure ? Is it generated by the site with liferay 5.2.3 ?
10:23 < bijoo_:#liferay> nicolas_FR: nicolas_FR thanks, I was going to ask the version.
10:23 < bijoo_:#liferay> nicolas_FR: 5.2.3, hmm.
10:23 < bijoo_:#liferay> \me (thinking)
10:23  * bijoo_:#liferay thinking
10:23 < bijoo_:#liferay> https://t.seebgroup.com/robots-txt-introduced
10:24 < bijoo_:#liferay> I think it was introduced in 6+
10:24 < bijoo_:#liferay> nicolas_FR: have you thought about upgrading 6.2?
10:24 < nicolas_FR:#liferay> so .. no robots.txt in previous versions ?
10:24 < nicolas_FR:#liferay> is 6.2 community ?
10:25 < nicolas_FR:#liferay> or 6.1
10:25 < bijoo_:#liferay> nicolas_FR: not necessarily, just not in site settings, I'm checking the code base for 5.2.3 right now.
10:25 < bijoo_:#liferay> 6.2 is both EE and CE.
10:27 < Tar-Minyatur:#liferay> jardineworks: Are you still around? I vaguely recall that you were fiddling around with multiple templates per article.
10:27 < nicolas_FR:#liferay> we were thinking about switching to 6.1 but it will take time, and waiting for that we have no robots.txt, which is a priority
10:28 < Tar-Minyatur:#liferay> Did you find a way to get Liferay to render your stuff with different templates as you wish?
10:28 < nicolas_FR:#liferay> Tar-Minyatur: you can set liferay to use a specific template for an article in a particular page, if it is what you need
10:29 < Tar-Minyatur:#liferay> I can use the same article on different pages and have Liferay use a different template?
10:29 < nicolas_FR:#liferay> Tar-Minyatur: yes
10:30 < Tar-Minyatur:#liferay> When I change the value in the template drop down it only affects the current page?
10:30 < nicolas_FR:#liferay> Tar-Minyatur: by example, an article that would be set 2 times on your site. 1st as a short introduction, with a link to the full article. Same article, 2 templates
10:32 < nicolas_FR:#liferay> Tar-Minyatur: We're using L5.2.3 here, we achieve this by clinking the "gear" button of your article, and then selecting the template you want
10:32 < bijoo_:#liferay> nicolas_FR: I don't see robots.txt support; that is in 5.2.3 portal source code. Are you using apache web server?
10:33 < nicolas_FR:#liferay> bijoo: we're using an apache in front, and then we have a tomcat for liferay
10:34 < bijoo_:#liferay> nicolas_FR: okay, are you familiar with that? If not, I can give you the right settings; so that you can map robots.txt.
10:35 < nicolas_FR:#liferay> bijoo_: I would really appreciate the right settings for that yes
10:35 < Tar-Minyatur:#liferay> nicolas_FR: Awesome! Would be nice if that was possible using /c/journal/view_article_content as well...but I guess I'll take it this way for now.
10:35 < bijoo_:#liferay> nicolas_FR: okay, I'll send that to you in a minute there.
10:37 < bijoo_:#liferay> nicolas_FR: can you open Apache config files?
10:37 < bijoo_:#liferay> nicolas_FR: the location changes by the version.
10:37 < nicolas_FR:#liferay> kyes
10:37 < nicolas_FR:#liferay> bijoo_: yes, the apache.conf file right ?
10:37 < bijoo_:#liferay> nicolas_FR: it depends on version, I mean for site.
10:38 < jardineworks:#liferay> Tar-Minyatur, yep still ehre
10:38 < nicolas_FR:#liferay> bijoo_: what do you need to know from the conf ?
10:38 < bijoo_:#liferay> nicolas_FR: for 2.4.4, it's in /etc/apache/sites-enabled/*
10:38 < bijoo_:#liferay> nicolas_FR: find the VirtualHost that's handling Liferay traffic
10:38 < bijoo_:#liferay> add this directive to the VirtualHost
10:38 < jardineworks:#liferay> nicolas_FR, I don't have a 5.2.3 instance up but in 6 you can configure the robots.txt in the control panel I think. Maybe its the same in 5.2.3?
10:39 < bijoo_:#liferay> Alias /robots.txt /path/to/robots.txt
10:39 < Tar-Minyatur:#liferay> jardineworks: nicolas_FR sort of answered my question already. Unless you have an idea how to make the same work with /c/journal/view_article_content. ;)
10:39 < nicolas_FR:#liferay> bijoo_: I already tried the Alias setting, but was not working
10:40 < jardineworks:#liferay> Tar-Minyatur, I think you can pass the templateId you want to use in the URL as well.
10:40 < Tar-Minyatur:#liferay> Didn't seem to work when I tried it just now.
10:40 < nicolas_FR:#liferay> bijoo_: the browser was waiting for long for an answer, that's it. Nothing happened
10:40 < bijoo_:#liferay> nicolas_FR: it should work, I'll try it out and tell you.
10:40 < nicolas_FR:#liferay> bijoo_: so might be some interference with our apache configuration (we have redirects from http > https etc.)
10:42 < nicolas_FR:#liferay> jardineworks: no, nothing in control panel in 5.2.3. (nothing that I know so far)
10:43 < bijoo_:#liferay> nicolas_FR: I've reproduced the same issue here; that is, I have https=> http too.
10:43 < nicolas_FR:#liferay> jardineworks: If you know how to pass the templateId in the url, you might answer this unanswered thread in the way :) http://www.liferay.com/fr/community/forums/-/message_boards/message/17889413
10:43 < Tar-Minyatur:#liferay> jardineworks: When I use the groupId of staging, the articleId and templateId, it still uses the default template.
10:43 < bijoo_:#liferay> nicolas_FR: one second, I'll ping an update real soon.
10:44 < jardineworks:#liferay> nicolas_FR, might be new in 6. For me it is by site... which I think was still a community in 5.2.3?
10:44 < jardineworks:#liferay> Tar-Minyatur, you sure you have the right template id? (I was having that issue yesterday which is why I ask) :)
10:44 < nicolas_FR:#liferay> jardineworks: so where exactly do you go in panel control ? So I can look again
10:44 < Tar-Minyatur:#liferay> I took the one shown to me in the control panel.
10:45 < jardineworks:#liferay> nicolas_FR, its changed a bit in 6... but for me on the left site under "Site Settings"
10:45 < jardineworks:#liferay> Site Settings is in the second "chunk" of links
10:46 < jardineworks:#liferay> I think in 5.2.3 a Site was called a Community though... so it might be under a community setting for you.
10:46 < jardineworks:#liferay> The site settings for me is where I can set robotx.txt, basic site information, the url the sitemap...
10:49 < nicolas_FR:#liferay> jardineworks: only have access to sitemap, google analytics, and few others options, but no robots
10:50 < jardineworks:#liferay> nicolas_FR, ah... maybe it is new in 6+ then
10:51 < nicolas_FR:#liferay> probably, thanks anyway
10:51 < Tar-Minyatur:#liferay> jardineworks: It feels really weird that you can't supply a templateId when yesterday we spoke about the fact that Liferay doesn't have a default template setting for structures.
10:51 < Tar-Minyatur:#liferay> But on the other hand...every article clearly has one template assigned to it.
10:52 < jardineworks:#liferay> Tar-Minyatur, it does
10:52 < jardineworks:#liferay>  but YOU can't set it
10:52 < jardineworks:#liferay> it appears to be whatever template you created with an association to the structure first :)
10:52 < Tar-Minyatur:#liferay> We could, however, change the template in the article and then change the template to use on the page that shows the article.
10:52 < Tar-Minyatur:#liferay> That should work, I guess.
10:52 < Tar-Minyatur:#liferay> I'll try that.
10:54 < bijoo_:#liferay> nicolas_FR: got it, do you have proxypass in there?
10:54 < bijoo_:#liferay> ProxyPass /robots.txt !
10:54 < bijoo_:#liferay> nicolas_FR: need to tell it not to proxy that file.
10:54 < nicolas_FR:#liferay> in the apache conf ?
10:55 < bijoo_:#liferay> nicolas_FR: in the VirtualHost that's for the portal
10:55 < nicolas_FR:#liferay> no I don't think so
10:56 < nicolas_FR:#liferay> Well I'm looking in the apache.conf, where we set the Alias, and no proxypass
10:56 < bijoo_:#liferay> nicolas_FR: it may not be in apache.conf
10:56 < Tar-Minyatur:#liferay> jardineworks: Doesn't work either. Sad day.
10:57 < bijoo_:#liferay> nicolas_FR: find the portal configuration part
10:57 < bijoo_:#liferay> nicolas_FR: which version apache are you using?
10:57 < bijoo_:#liferay> apache2ctl -version
10:57 < nicolas_FR:#liferay> 2.2.9
10:57 < nicolas_FR:#liferay> on Debian
10:59 < nicolas_FR:#liferay> bijoo_: btw thanks for your time, I'm not the person in charge of the servers, but he's away and all people are on me for that now ... :)
10:59 < bijoo_:#liferay> nicolas_FR: okay, need to find the VirtualHost
10:59 < bijoo_:#liferay> nicolas_FR: run these commands
10:59 < bijoo_:#liferay> cd /etc/
10:59 < bijoo_:#liferay> find . | xargs grep VirtualHost
11:00 < bijoo_:#liferay> nicolas_FR: should give you a list of the files to check
11:00 < bijoo_:#liferay> nicolas_FR: oh, quick adjustment
11:00 < bijoo_:#liferay> cd /etc/apache2
11:00 < bijoo_:#liferay> find . | xargs grep VirtualHost
11:00 < nicolas_FR:#liferay> bijoo_: yes : /etc/apache2/sites-available/
11:00 < bijoo_:#liferay> nicolas_FR: okay, good, do you have file list to check?
11:01 < bijoo_:#liferay> find /etc/apache2/ | xargs grep -ls VirtualHost
11:01 < bijoo_:#liferay> That should give you filelist to check for it
11:01 < nicolas_FR:#liferay> bijoo_: there is a long list of output here
11:02 < bijoo_:#liferay> nicolas_FR: okay, now try this one instead
11:02 < nicolas_FR:#liferay> bijoo_: I think the good one is internet-ssl or internet
11:02 < bijoo_:#liferay> find /etc/apache2/ | xargs grep -sl ProxyPass
11:03 < bijoo_:#liferay> nicolas_FR: okay, open up that file and check it
11:03 < nicolas_FR:#liferay> only one : mod_proxy.so
11:04 < nicolas_FR:#liferay> in etc/apache2/modules/mod_proxy.so
11:05 < bijoo_:#liferay> nicolas_FR: okay, no problem, so that can't be it. What do you see in the internet-ssl
11:05 < bijoo_:#liferay> nicolas_FR: mask out anything sensitive, and put it on pastebin
11:06 < nicolas_FR:#liferay> bijoo_: hold on
11:09 < nicolas_FR:#liferay> bijoo_: we have RewriteEngine on, http://pastebin.com/CDCH8Ebr
11:09 < nicolas_FR:#liferay> and more redirect for some other sites
11:10 < nicolas_FR:#liferay> I missed 1 line, sorry, sending another version quick
11:12 < bijoo_:#liferay> nicolas_FR: checking the file now
11:12 < nicolas_FR:#liferay> bijoo_: http://pastebin.com/SkXM9nWm
11:14 < bijoo_:#liferay> nicolas_FR: okay, the second one makes more sense. Hmm, above these lines place the Alias?
11:15 < bijoo_:#liferay> nicolas_FR: restart apache and still no effect?
11:15 < nicolas_FR:#liferay> bijoo_: well, give me one minut, I'm asking for permissions to do that here
11:16 < bijoo_:#liferay> nicolas_FR: okay, I'll be around; I'll check later.
11:21 < bijoo_:#liferay> rotty3000: in answer to your poll, I don't use them. I only use them in themes plugin work; and that's because nice folks put it in there.
11:22 <@rotty3000:#liferay> thx :)
11:25 < nicolas_FR:#liferay> bijoo_: could you look at this file http://pastebin.com/5AeWM7x6. As I need to modify it I prefer to be exhaustive with its content, just in case.
11:26 < bijoo_:#liferay> nicolas_FR: checking the file now
11:30 < bijoo_:#liferay> nicolas_FR: see new version of the same file here http://pastebin.com/DmhDCDEp
11:30 < bijoo_:#liferay> Added a Directory directive and the Alias as one of first few active lines in VirtualHost directive
11:31 < bijoo_:#liferay> nicolas_FR: Note you'll have to creat
11:31 < bijoo_:#liferay> mkdir -p /var/www/robots
11:31 < bijoo_:#liferay> echo "my robots txt" > /var/www/robots/robots.txt
11:31 < bijoo_:#liferay> nicolas_FR: so then restart apache and test it
11:32 < nicolas_FR:#liferay> bijoo_: ok  /me shivers
11:32 < bijoo_:#liferay> nicolas_FR: is this on a production  site that's live?
11:33 < bijoo_:#liferay> nicolas_FR: if so, I wouldn't mess with it right now.
11:33 < nicolas_FR:#liferay> bijoo_: yes it's a production site, as we only have this particular configuration (apache + tomcat) in production
11:34 < nicolas_FR:#liferay> I saved the internet-ssl file and apache restarting is done in a blink. Testing, and if it goes wrong I'll set it back quickly. It sucks, but actually we have no other ways to do
11:34 < bijoo_:#liferay> nicolas_FR: yikes, well, I assume this is only change.
11:35 < bijoo_:#liferay> nicolas_FR: that is, no one edited that file right? So this should be only change for restart.
11:36 < nicolas_FR:#liferay> ok .. cross fingers
11:37 < nicolas_FR:#liferay> bijoo_: yes, I'm the only one to change it right now, and just saved the old one
11:37 < nicolas_FR:#liferay> bijoo_: we should be cool.. or not
11:38 < nicolas_FR:#liferay> bijoo_: good new : production is still working. Bad new : robots.txt still not available
11:38 < bijoo_:#liferay> nicolas_FR: so no change from before or now error?
11:39 < bijoo_:#liferay> nicolas_FR: oh "stilll" I see, okay so no change there
11:39 < nicolas_FR:#liferay> bijoo_: yep, it's the same
11:40 < bijoo_:#liferay> nicolas_FR: I'm using Rewrite rules, conds, etc. as well; so I know it does not interfere. However, I'll take another look there.
11:41 < nicolas_FR:#liferay> is it normal to be deny from all in the directory setting ?
11:41 < bijoo_:#liferay> nicolas_FR: by the way, what URL do you see? That is, when hit robots.txt.
11:42 < nicolas_FR:#liferay> try it : https://www.interiale.fr/robots.txt
11:42 < nicolas_FR:#liferay> it's waiting forever
11:44 < bijoo_:#liferay> nicolas_FR: whoops, good catch there; should be "Deny from None"
11:44 < bijoo_:#liferay> nicolas_FR: "Deny from none"
11:45 < bijoo_:#liferay> nicolas_FR: case shouldn't matter though, so long as "none"
11:45 < nicolas_FR:#liferay> was going to ask :)
11:45 < nicolas_FR:#liferay> nothing changed
11:46 < bijoo_:#liferay> nicolas_FR: well the fact it's doing something is good.
11:46 < bijoo_:#liferay> nicolas_FR: even timing out gives a clue here.
11:47 < nicolas_FR:#liferay> bijoo_: we had this timing out even before our modifications
11:48 < bijoo_:#liferay> nicolas_FR: right; portal would not time out here though. It would redirect to an error page; something like this: 'the  page could not be found'
11:49 < nicolas_FR:#liferay> bijoo_: well it happens if you enter a wrong url : https://www.interiale.fr/ots.txt
11:49 < bijoo_:#liferay> nicolas_FR: well that returned a 404 instead
11:49 < nicolas_FR:#liferay> yes
11:49 < bijoo_:#liferay> but this is waiting on response long time
11:51 < bijoo_:#liferay> nicolas_FR: http://pastebin.com/DVbYBxXF
11:51 < bijoo_:#liferay> nicolas_FR: try that, it should redirect to google.com
11:51 < bijoo_:#liferay> nicolas_FR: just trying to see if we're hitting it
11:51 < bijoo_:#liferay> RedirectMatch permanent ^/robots.txt$ https://www.google.com
11:51 < nicolas_FR:#liferay> will try
11:52 < bijoo_:#liferay> nicolas_FR: so if we redirect, we're in right place
11:52 < bijoo_:#liferay> nicolas_FR: if not, then we're working on wrong part there
11:52 < nicolas_FR:#liferay> it's working
11:52 < nicolas_FR:#liferay> redirected to google
11:52 < bijoo_:#liferay> nicolas_FR: okay, good, then we're in right place right now
11:53 < nicolas_FR:#liferay> shouldn't we exclude the robots.txt from the general redirect to home page ?
11:54 < bijoo_:#liferay> nicolas_FR: yes, that's correct, let's try something here. Add this as first element of VirtualHost
11:54 < bijoo_:#liferay> DocumentRoot "/var/www/interiale/"
11:54 < bijoo_:#liferay> nicolas_FR: make the directory and add Directory directive like we did for /var/www/robots/
11:55 < bijoo_:#liferay> mkdir -p /var/www/interiale/
11:55 < bijoo_:#liferay> nicolas_FR: nevermind, instead just set the DocumentRoot "/var/www/robots/"
11:56 < nicolas_FR:#liferay> bijoo_: for information, my robots.txt file is in /usr/share/apache2/robots/robots.txt
11:56 < nicolas_FR:#liferay> bijoo_: so might not be accessible from web
11:56 < bijoo_:#liferay> nicolas_FR: run this command to make symbolic link
11:56 < bijoo_:#liferay> ln -s /usr/share/apache2/robots/robots.txt /var/www/robots/robots.txt
11:57 < bijoo_:#liferay> http://pastebin.com/iBnQ05Lf
11:57 < nicolas_FR:#liferay> bijoo_: ok done, so I'm now changing my internet-ssl
11:57 < bijoo_:#liferay> nicolas_FR: right just need to add the one on line 8
11:58 < nicolas_FR:#liferay> bijoo_: can I remove the permanent redirect to google ?
12:00 < nicolas_FR:#liferay> still the same
12:00 < nicolas_FR:#liferay> =(
12:00 < bijoo_:#liferay> nicolas_FR: yes, please remove the google redirect;
12:01 < bijoo_:#liferay> nicolas_FR: okay, I expected the same result.
12:01 < bijoo_:#liferay> nicolas_FR: we just have to update the RegEx now.
12:02 < nicolas_FR:#liferay> bijoo_: update the regex ?
12:03 < bijoo_:#liferay> nicolas_FR: yes, I'll post the pastebin in a minute.
12:07 < bijoo_:#liferay> nicolas_FR: something doesn't add up here, question: how does apache know about liferay?
12:07 < bijoo_:#liferay> nicolas_FR: I think we're missing a piece of puzzle.
12:08 < bijoo_:#liferay> nicolas_FR: try this
12:08 < bijoo_:#liferay> find /etc/apache2/ | xargs egrep -ls "VirtualHost.*443"
12:08 < nicolas_FR:#liferay> bijoo_: I don't know for apache knowing about liferay. The person in charge of the servers will be here tomorrow, but we're in europe and I bet you're usa ?
12:10 < nicolas_FR:#liferay> bijoo_: found internet internet-ssl and ports.conf
12:10 < bijoo_:#liferay> nicolas_FR: yes, I'm in EST timezone right now.
12:10 < bijoo_:#liferay> nicolas_FR: okay, open up internet one now,
12:11 < bijoo_:#liferay> Search for 443
12:11 < bijoo_:#liferay> is it active there?
12:11 < nicolas_FR:#liferay> sorry wait
12:11 < bijoo_:#liferay> It shouldn't be, I think, it's weird it is.
12:11 < nicolas_FR:#liferay> where we should search is in sites-enabled, not available
12:12 < bijoo_:#liferay> Right, enabled, not the available.
12:12 < nicolas_FR:#liferay> so the only results I have are : sites-enabled/internet-ssl
12:12 < nicolas_FR:#liferay> and etc/apache2/ports.conf
12:12 < bijoo_:#liferay> nicolas_FR: check ports.conf, but I think that's just a comment
12:13 < nicolas_FR:#liferay> NameVirtualHost *:80
12:13 < nicolas_FR:#liferay> and 443
12:13 < nicolas_FR:#liferay> and listen to 80 and 443
12:14 < bijoo_:#liferay> nicolas_FR: okay, I'll continue with the pastebin.
12:14 < nicolas_FR:#liferay> ok
12:17 < bijoo_:#liferay> http://pastebin.com/60TQD0TR
12:17 < bijoo_:#liferay> nicolas_FR: I think now it's the last line that did it
12:18 < bijoo_:#liferay> nicolas_FR: since line 23 just works for the "/"
12:19 < bijoo_:#liferay> nicolas_FR: line 51 is doing most of work
12:20 < nicolas_FR:#liferay> bijoo_: =( still the same
12:21 < bijoo_:#liferay> nicolas_FR: okay, is there anything else in there?
12:21 < bijoo_:#liferay> nicolas_FR: any other directives in the file?
12:21 < bijoo_:#liferay> nicolas_FR: if not please paste apache.conf then. Of course mask sensitive information.
12:22 < nicolas_FR:#liferay> bijoo_: plenty of Redirect /particular/url https://another/url
12:23 < nicolas_FR:#liferay> all those redirect are from out previous site (some month ago)
12:23 < nicolas_FR:#liferay> then we have JkMount with a lot of /url
12:24 < bijoo_:#liferay> nicolas_FR: ah! JkMount! That's the Liferay portion.
12:24 < nicolas_FR:#liferay> the JkMount are on the shorts url we use
12:25 < nicolas_FR:#liferay> should be JkMount /*.txt ?
12:25 < bijoo_:#liferay> nicolas_FR: well, most likely JkMount is for ajp13
12:25 < nicolas_FR:#liferay> as I see we're using JkMount /*.jpg / js / png / gif
12:25 < nicolas_FR:#liferay> don't know if it's needed
12:25 < bijoo_:#liferay> JkUnMount /robots.txt ajp13w
12:26 < bijoo_:#liferay> JkUnMount /robots.txt ajp13
12:26 < nicolas_FR:#liferay> JkMount /robots.txt decideur
12:26 < nicolas_FR:#liferay> what I have at the end of the file
12:26 < bijoo_:#liferay> Note it should be JkUnMount , not that
12:27 < bijoo_:#liferay> nicolas_FR: okay, that should work too, but change the JkMount to JkUnMount
12:28 < nicolas_FR:#liferay> ah ! forbidden
12:28 < nicolas_FR:#liferay> right now
12:28 < bijoo_:#liferay> nicolas_FR: looks like it worked, got forbidden error.
12:29 < bijoo_:#liferay> nicolas_FR: check permissinos on file and the folder
12:29 < nicolas_FR:#liferay> folder : drwxr-xr-x
12:29 < nicolas_FR:#liferay> link is lrwxrwxrwx
12:30 < nicolas_FR:#liferay> robots.txt -> robots.txt
12:30 < bijoo_:#liferay> nicolas_FR: okay, I'm updating the pastebin file.
12:30 < nicolas_FR:#liferay> and robots file in the "true" directory is -rw-r--r--
12:31 < nicolas_FR:#liferay> should we chmod ?
12:31 < bijoo_:#liferay> http://pastebin.com/daWLC956
12:32 < bijoo_:#liferay> nicolas_FR: no, that should be plenty, check out pastebin.
12:32 < bijoo_:#liferay> I updated lines 2-6
12:32 < bijoo_:#liferay> should work
12:32 < nicolas_FR:#liferay> FollowSymLinks
12:33 < nicolas_FR:#liferay> still forbidden
12:34 < bijoo_:#liferay> nicolas_FR: try putting them in quotes on line 2
12:34 < nicolas_FR:#liferay> if the symbolic link is a problem, I will just copy the original robots.txt to the www directory
12:34 < bijoo_:#liferay> so "/var/www/robots"
12:35 < bijoo_:#liferay> "/var/www/robots/"
12:35 < nicolas_FR:#liferay> still not
12:36 < bijoo_:#liferay> nicolas_FR: we are quite close my friend, let's double check
12:37 < bijoo_:#liferay> nicolas_FR: please post the updated file to pastebin. Of course, mask sensitive information.
12:37 < nicolas_FR:#liferay> check the site... ;)
12:37 < bijoo_:#liferay> nicolas_FR: hehe, very well then. Mission Complete.
12:37 < nicolas_FR:#liferay> bijoo_: problem was with the link... I removed the link and copied directly the file in /var/www
12:38 < bijoo_:#liferay> nicolas_FR: nice, yea, symbolic links can be tricky.
12:38 < nicolas_FR:#liferay> many many many thanks bijoo_  :)
12:38 < nicolas_FR:#liferay> They all will be happy at marketing tomorrow
12:38 < bijoo_:#liferay> nicolas_FR: sure avoir my friend, have a good one.
12:39 < nicolas_FR:#liferay> btw.. as I see you're quite a big boy here... :) are you fine with 404 redirection ? :p
12:39 < nicolas_FR:#liferay> I've done it and it works on a test server, but impossible to make it live in production. We assumed it was a apache/tomcat problem, but as you saw, I'm not the man of the situation for servers configuration
12:41 < bijoo_:#liferay> nicolas_FR: what's the setup? i.e. where's error page
12:41 < bijoo_:#liferay> nicolas_FR: or you just want to redirect error?
12:42 < nicolas_FR:#liferay> bijoo_: well if you're up to it, can we talk about this tomorrow ? I'm 1h past my work time, and even if it's a pleasure to find (finally) help, I'm awaited and already late =/
12:42 < bijoo_:#liferay> nicolas_FR: you know where to find me, I'll be here.
12:42 < nicolas_FR:#liferay> bijoo_: awesome. I owe you a drink, or 2 ;)
12:43 < nicolas_FR:#liferay> thanks and see you tomorrow for more adventures !
12:43 < bijoo_:#liferay> nicolas_FR: :) enjoy Liferay and thanks to Liferay folks
13:00 < dawn:#liferay> anyone know how to export site pages as LAR file with categories included in 6.2 version? I was able to do it without hassle in earlier version. Thanks!
13:07 < Tar-Minyatur:#liferay> Wow. We just achieved an incredible performance improvement.
13:07 < Tar-Minyatur:#liferay> The entire control panel is almost 10 times faster than before now.
13:08 < Tar-Minyatur:#liferay> We're talking 45s loading time reduced to abou 5s.
13:08 < Tar-Minyatur:#liferay> One of our developers found a ton of old pages hidden somewhere deep in the page tree. Over 1600 of them...associated with a myriad of web content articles. Removing them was definitely an eye-opener. :D
14:28 -!- mode/#liferay [+o jhf] by ChanServ
14:29 < jardineworks:#liferay> hey rotty -- can I ask you another search question?
14:30 < rterwedo:#liferay> jhf: Tried to remind u to plug LR services =)
14:30 <@jhf:#liferay> ya thanks :)
14:30 < rterwedo:#liferay> Good webcast
14:30 <@jhf:#liferay> I also plugged Content Targeting, which was a mistake cause I do't know when it'll be released :)
14:30 < rterwedo:#liferay> haha
14:31 <@jhf:#liferay> but it is super-cool
14:31 < rterwedo:#liferay> So u know, abstracting away search would be cool too...  Then we could do things like:  http://aws.amazon.com/cloudsearch/
14:32 <@jhf:#liferay> http://issues.liferay.com ;-)
14:32 <@jhf:#liferay> err
14:32 <@jhf:#liferay> http://liferay.com/community/ideas !!
14:32 < rterwedo:#liferay> Yea if I could login to my account
14:33 < rterwedo:#liferay> U guess keep screwing with OpenID
14:33 <@jhf:#liferay> openid eh
14:33 < rterwedo:#liferay> =)
14:33 <@jhf:#liferay> dang it
14:33 <@jhf:#liferay> still broken??
14:33 < rterwedo:#liferay> Worked before, then didnt today..
14:33 < rterwedo:#liferay> I had to create an account to register for hte webcast
14:33 <@jhf:#liferay> who is your provider of openid ?
14:33 < rterwedo:#liferay> Yahoo
14:33 < rterwedo:#liferay> --->  I would love to transition that away somehow or migrate
14:34 < rterwedo:#liferay> I registered in 07 or 08 or something
14:37 <@jhf:#liferay> yeah
14:37 <@jhf:#liferay> you're probably coming out of the "legacy" database @ yahoo - i.e. the slow one that works half the time.
14:50 < rterwedo:#liferay> getting old sucks...
14:51 < rterwedo:#liferay> Im only 31 and I am "legacy"  ...damn lol
15:18 < jardineworks:#liferay> rterwedo, bad news is, it only gets worse :)
15:19 < rterwedo:#liferay> jardineworks: sad sad day
15:19 < jardineworks:#liferay> and its funny. I remember looking at the "old guys" and thinking -- pffft ... old timers. Need some new ideas. ... and now I find myself saying what they used to say about me "Young punks -- think they know everything."
15:20 < jardineworks:#liferay> one of my clients right now? he looks like he is about 12
15:20 < rterwedo:#liferay> hahahahaha
15:20 < rterwedo:#liferay> prob will be worth a billion in a few years
15:20 < rterwedo:#liferay> internet - the great equalizer...
15:22 < jardineworks:#liferay> I used to have a freedom 30 plan. Then I hit 29 so I pushed it to freedom 35
15:22 < jardineworks:#liferay> tomorrow is my 35th birthday. Time to push for 40 I guess :)
15:23 < rterwedo:#liferay> My moment came when some "kids" tried to race me on the freeway  A) They were in their early 20s and I called them "kids"  B) I was in the slow lane C) I had cruise on for gas mileage
15:23 < rterwedo:#liferay> Holy crap--->  Im old
15:23 < jardineworks:#liferay> LMAO
15:24 < jardineworks:#liferay> you should see me bitch at my wife about turning lights off. "You know we PAY for electricity right?"
15:24 < rterwedo:#liferay> o man
15:24 < rterwedo:#liferay> all that shit we said we would never say
15:24 < rterwedo:#liferay> ----> o yea we say it
15:26 < rterwedo:#liferay> jhf: Can you make me young again and get me transitioned over to not openID if its such a problem.  I dont want to be legacy =(
15:39 < jardineworks:#liferay> that should be a marketplace plugin
15:39 < rterwedo:#liferay> Id buy the "Get Young Again" plugin
17:02 < dawn:#liferay> hey jhf, can I ask you a question.how to export site pages (as LAR file) with categories included in 6.2 version? I was able to do it without hassle in earlier version. Thanks!
17:22 < bijoo_:#liferay> dawn: I have 6.2 and I see option. In Export, under Content, it is there.
17:24 < dawn:#liferay> bijoo_: Yes, I do see it. However I don't think the categories are getting exported. I tried All Content and choose content and then selecting categories
17:26 < dawn:#liferay> one other observation is that, I see the # of items getting exported beside the content type. But for categories I don't see any..
17:30 < dawn:#liferay> here is the url for categories I have http://postimg.org/image/t6fetkrq5/
17:30 < bijoo_:#liferay> dawn: I'll test it out on mine and let you know (although I'm running  6.2.0 CE RC6 )
17:32 < dawn:#liferay> in this image I pointed out the discrepancy http://postimg.org/image/nh5xjb5u3/
17:36 < bijoo_:#liferay> dawn: I just tried it and it works fine here.
17:36 < bijoo_:#liferay> dawn: yes, for mine it didn't show the number.
17:37 < bijoo_:#liferay> dawn: that looks like a bug, but export works fine.
17:38 < dawn:#liferay> bijoo_: can you try to import that LAR. Because that is how I came to know the categories were missing
17:38 < bijoo_:#liferay> dawn: I did; I imported to same instance; but just a different site and it worked.
17:39 < bijoo_:#liferay> dawn: here, I'm sending you the lar export.
17:39 < bijoo_:#liferay> It just has a couple pages and stuff.
17:42 < bijoo_:#liferay> dawn: this one doesn't have extra stuff in it; just vocabulary/category
17:44 < dawn:#liferay> bijoo_: I am not able to download those files
17:45 < dawn:#liferay> bijoo_: Error operation time out
17:45 < bijoo_:#liferay> dawn: okay, I'm putting it up on a site.
17:46 < dawn:#liferay> bijoo_:great. Thanks!
17:46 < bijoo_:#liferay> dawn: https://t.seebgroup.com/dawn-irc-20140115-lar-file
17:54 < dawn:#liferay> bijoo_: here is the lar file with only categories from my instance http://www.filedropper.com/publicpages-201401152247
18:01 < dawn:#liferay> http://postimg.org/image/olbpz4oql/ look for the errors complaining about categories.
18:02 < dawn:#liferay> bijoo_:http://postimg.org/image/olbpz4oql/ look for the errors complaining about categories.
18:04 < bijoo_:#liferay> dawn: back, I can see the export is correct. Now I'll try to import it in a site.
18:05 < dawn:#liferay> bijoo_:sure
18:06 < bijoo_:#liferay> "LAR build number 6210 does not match portal build number 6200"
18:06 < bijoo_:#liferay> dawn: yikes, looks like you have new version, I don't.
18:06 < dawn:#liferay> yes. 6.2GA1 EE
18:06 < bijoo_:#liferay> dawn: let my try to spoof it and it might work.
18:06 < bijoo_:#liferay> me*
18:09 < bijoo_:#liferay> dawn: https://t.seebgroup.com/dawn-irc-201401015-lar-import-errors
18:09 < bijoo_:#liferay> dawn: it definitely sees categories
18:10 < bijoo_:#liferay> dawn: my site doesn't have it's referenecs; as such, I cannot import the lar file.
18:14 < dawn:#liferay> bijoo_: sorry if I misunderstood the error. my understanding of  "missing reference" error was that the artifact is missing in current site.
18:15 < dawn:#liferay> bijoo_: i thought by importing the LAR it would create the categories in current site
18:16 < dawn:#liferay> am i wrong here?
18:33 < bijoo_:#liferay> data__: yes it should create the categories; I think this means the data's corrupted...
18:33 < bijoo_:#liferay> data__: can you try not exporting some portlets?
18:34 < bijoo_:#liferay> data__: so the scenario I think happened: (1) create category A, (2) create web content article and select category A, (3) delete category A, (4) export all site data including portlet that has reference to category A which doesn't exist
18:35 < bijoo_:#liferay> whoops, I am sending stuff to wrong person
18:35 < bijoo_:#liferay> sorry data__
18:41 < data__:#liferay> bijoo, no prob
--- Log closed Thu Jan 16 00:00:38 2014

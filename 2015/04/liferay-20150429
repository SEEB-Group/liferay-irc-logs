--- Log opened Wed Apr 29 00:00:09 2015
--- Log opened Wed Apr 29 03:21:05 2015
03:21 -!- Topic for #liferay: Liferay Community Discussion Channel! *THIS CHANNEL IS LOGGED* (Log: http://goo.gl/SMte1N) Plz be patient - timezones matter :)  6.2 CE GA4 RELEASE http://goo.gl/AjubK5   Forum: http://forums.liferay.com Homepage: http://liferay.org User Groups http://goo.gl/WFVtPe Nightly build http://releases.liferay.com/portal/nightly-master/
03:21 -!- Topic set by jhf [~cygnuseck@97-101-250-88.res.bhn.net] [Fri Apr 17 17:33:27 2015]
03:21 [Users #liferay]
03:21 [@ChanServ  ] [ Gorith_     ] [ kravigupta ] [ modd_   ] [ Tm_T      ] 
03:21 [ bijoo     ] [ henriquev   ] [ longbeach  ] [ Naenyn  ] [ twen      ] 
03:21 [ Bryanstein] [ jardineworks] [ MagnoBooter] [ plekplek] [ vsingleton] 
03:21 [ doged     ] [ jbub        ] [ marcoceppi ] [ quercus ] 
03:21 -!- Irssi: #liferay: Total of 19 nicks [1 ops, 0 halfops, 0 voices, 18 normal]
03:21 -!- Channel #liferay created Wed Nov 11 15:40:06 2009
03:21 -!- Irssi: Join to #liferay was synced in 4 secs
04:05 < Andrea_:#liferay> good morning everybody
06:06 < enoch:#liferay> hi all
06:07 < enoch:#liferay> what's the best way to install liferay on ubuntu? is there an official repo?
06:20 < Andrea___:#liferay> https://www.liferay.com/it/community/wiki/-/wiki/Main/Quick+Installation+Instructions maybe this help
06:47 < Andrea___:#liferay> jardine, are u there?
06:51 < Andrea___:#liferay> i'm trying to get the roles of the current user and check if a role is in there, how can i do it?
08:30 < Andrea_:#liferay> anyone here?
08:42 < HashMap:#liferay> yup
08:57 < jardineworks:#liferay> Andrea_, Sorry, can't help today... running out to a client meeting and I won't be back before you go home. I'll be around tomorrow though
08:58 < Andrea_:#liferay> hi! no problem, i'm working on your method over and over :D
09:07 < Andrea_:#liferay> i'm trying to check the current user roles in a jsp , how can i do that?
09:17 < HashMap:#liferay> I'd say through RoleLocalServiceUtil, there's a method getUserRoles(long userId)
09:23 < Andrea_:#liferay> http://pastebin.com/hyyNuwvn
09:24 < Andrea_:#liferay> can u check this method, its from jardine with a little modification by me..I think allowEdit never become true but i don't know why
09:29 < HashMap:#liferay> It seems ok to me
09:29 < Andrea_:#liferay> do i correctly get the current user?
09:33 < HashMap:#liferay> I think it should work..
09:33 < HashMap:#liferay> if I were you, I'd try move this code in the controller and debug it, if every variable is set properly
09:34 < Andrea_:#liferay> how do i do this?
09:34 < Andrea_:#liferay> i'm a newbie sorry :/
09:35 < HashMap:#liferay> Or at least try to do System.out.println for every variable, to see, if it is set..
09:35 < HashMap:#liferay> it would then show it in the server output
09:36 < Andrea_:#liferay> ok
09:38 < HashMap:#liferay> However this much code should probably not be in the jsp itself, but in the controller, better in some utility method and you should only pass "editAllowed" to the view with true, or false and not compute it in the view
09:42 < Andrea_:#liferay> can you be more precise?
09:42 < HashMap:#liferay> brb. gonna get coffe and i'll try to explain
09:43 < Andrea_:#liferay> ok, thanks
09:54 < HashMap:#liferay> I am here :)
09:54 < Andrea_:#liferay> nice
09:55 < HashMap:#liferay> well, from the code you posted it looks, that it only sets editAllowed based on current user and some list of groups and roles
09:57 < HashMap:#liferay> i'd probably create a method isEditAllowed somewhere that has the user and list of groups and permissions as parameters
09:57 < Andrea_:#liferay> yeah , basically the aim is checking if the current user has the -hr admin- or -administrator- role and if he has one of them or both, he will be able to edit the firstname of every user
09:57 < HashMap:#liferay> that would return true/false based on your code
09:58 < Andrea_:#liferay> ok
09:58 < HashMap:#liferay> and then in the controller only call this method and pass "editAllowed" in the model to the view
09:59 < HashMap:#liferay> the plus to moving this code from the view to the controller would be easier debugging :)
10:02 < Andrea_:#liferay> but i am pretty sure i can achieve my goal without modifying liferay source code
10:03 < HashMap:#liferay> of course
10:04 < HashMap:#liferay> Well I don't know your project structure so if you need to do it in the jsp, do it in the jsp and try to look at the variables with System.out.println
10:06 < Andrea_:#liferay> ok, thanks
10:07 < HashMap:#liferay> np
10:09 < Andrea_:#liferay> it works lol I wrote <% editAllowed %> without the "!"
10:09 < HashMap:#liferay> :D
10:09 < Andrea_:#liferay> <aui:input disabled="<%= !editAllowed %>" name="firstName" />
10:10 < Andrea_:#liferay> hi jardine we(you) made it!
10:37 < Andrea_:#liferay> for non-admin users, MyAccount portlet is not displayed..this is the error, any suggestions?
10:37 < Andrea_:#liferay> ERROR [http-bio-8080-exec-28][AdvancedPermissionChecker:979] com.liferay.portal.NoSuchResourceActionException: 125#ADD_TO_PAGE
10:44 < bijoo__:#liferay> Andrea_: here's one way to check your code works: Control Panel-> Server Administration -> Script -> Enter code and submit
10:45 < bijoo__:#liferay> Andrea_: here are some tips on using console:
10:45 < bijoo__:#liferay> https://www.google.com/search?client=ubuntu&channel=fs&q=liferay+script+console&ie=utf-8&oe=utf-8
10:45 < bijoo__:#liferay> http://www.liferay.com/documentation/liferay-portal/6.2/user-guide/-/ai/running-scripts-from-the-control-panel-liferay-portal-6-2-user-guide-19-en
10:53 < Andrea_:#liferay> thanks bijoo
11:18 < josuebc:#liferay> Hi there. I have an issue with importing users from LDAP. Currently I'm using LDAP's UPN field to populate the email address and using the same one to authenticate users. Also the CN to populate the username.
11:19 < josuebc:#liferay> The problem is if an existing user (existing in liferay) gets its UPN changed then when it tries to log into liferay, LR doesn't synch the UPN value. I have to manually delete the user and then it will get imported with the new value
11:20 < josuebc:#liferay> I've been trying to figure out how to make LR do this automatically but I havent' found anything. Any ideas?

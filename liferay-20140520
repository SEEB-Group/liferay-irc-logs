--- Log opened Tue May 20 00:00:20 2014
05:53 < dave_k1> hey all ... we're thinking about re-using the userids from a legacy system while importing them into LR6.2. how can we explicitely set the userId of a new, programmatically generated user? -- or is it a bad idea?
06:01 < modd_> you can setUserId() and update the user
06:01 < modd_> but I wouldn't do it
06:01 < modd_> why would you want to reuse old ids of another system?
06:02 < modd_> you could add an expando to your user and transfer the old id into this field
06:02 < dave_k> would setUserId also change references?
06:02 < modd_> I don't think so
06:04 < dave_k> modd_: it would make it easier to import the data from the old system.
06:04 < modd_> does your new system already exists?
06:04 < modd_> or do you want to migrate into a new liferay?
06:06 < modd_> you cannot simply mix the databases of two installations, it's not only the user table but everything, which could simply blow up
06:07 < dave_k> old system: legacy php stuff that started with PHP2. new system: fresh liferay 6.2 with standard database scheme + modified clean database scheme of old php system
06:08 < dave_k> but as we know that migrating a DB designed by a PHP noob is not side-effect-free, we would like to keep the userIds...
06:10 < modd_> you could create another table which matches old and new ids
06:10 < dave_k> the other option would be a translation table to translate between them...
06:12 < dave_k> ... but as we know that that userId is also the Customer ID on company letters, identifying the user in all communication, we would need to change some UI so that the staff wouldn't be irritated
06:14 < modd_> how about creating an own service with the service builder, which also provides some methods you can later use and fill its table by hand with your existing data
06:16 < dave_k> that's already on our schedule. current question is: how can we match the old userIds with liferay?
06:17 < modd_> screennames?
06:18 < modd_> i don't know your old tables content, so I cannot tell you how to get them together
06:19 < dave_k> screennames are already present in the old system, used as login name
06:20 < dave_k> sure, I'm aware of you not knowing our old system ;)
06:22 < dave_k> we know that re-using the userId in liferay would be the easy way for us. what we do not know are the side-effects of this approach in liferay.
06:29 < modd_> the userId appears everywhere in the DB. if you manage to get all ids replaced, it might work just fine afterwards
06:43 < dave_k1> modd_: okay, thanks for your opinions. looks like we're stuck between a rock and a hard place. either play surgeon in liferay or in the migrating DB or in our code when we translate between them...
06:45 < modd_> if it would be my task, I'd start with the service builder and let generate a table with userId and phpUserId. then get my sqldeveloper up and fill the table with liferays user id and phps user id where lr.screenname = php.screenname
06:45 < modd_> then restart liferay and everything'S fine ;)
06:50 < dave_k> yeah, and on creating our portlets to make use of the data in the migrated DBs, we'll always have to juggle with two types of user IDs... error-prone, if you ask me.
06:56 < modd_> for all liferay related things use the liferay user id, for all legacy stuff MyServiceMatcher.getLegacyId(liferayuserid)
07:10 < dave_k> yeah, I fear that's the way to go...
07:35 < sm`> hello... im getting new error http://pastebin.com/7BBQt2f8
07:35 < sm`> when i try to open portlet.xml and liferay-display.xml
07:35 < sm`> i installed two new plugins and this problem occured
07:35 < sm`> i removed them both
07:36 < sm`> but the problem is still there
07:36 < sm`> so i guess that was not the case in the 1st place
10:29 < bijoo_> sm`: is this Liferay issue or IDE?
10:46 < sm`> liferay IDE
11:00 < bijoo_> sm`: Gregory Amerson is heading that; he responds lightning fast to messages; http://www.liferay.com/community/forums/-/message_boards/category/4627757
12:59 < aj_> hey rotty3000 -- do you have a minute for a struts hook question?
13:01 < aj_> rotty3000, I have created a struts hook for the edit web content action. In a JSP Hook I have added a few fields to the schedule.jsp page. The struts hook will check for the field values and take action accordingly. In my custom hook class I first execute the originalStrutsPortletAction since I want the default behaviour of saving the data to happen. Then, afterwards I added my logic.
13:02 < aj_> question is -- do you know if it is possible to get the article Id? because my custom logic records some details in a service builder implementation and I need the article Id as part of the information being persisted.

--- Log opened Fri Jan 03 00:00:20 2014
06:22 < hufg:#liferay> helloo helloo
06:22 < hufg:#liferay> whats up
06:22 < hufg:#liferay> it's my last day on liferay :x
06:31 < topolik1:#liferay> hi hufg, was good to work with you!
06:32 < hufg:#liferay> hehe thanks thanks
06:33 < hufg:#liferay> no computer stuff for me for a year so i may write some blog posts and perhaps beat lps40416 with some megahack
07:50 < jardineworks:#liferay> hufg, no computer for a year? where you headed?
07:52 < hufg:#liferay> jardineworks: i'm doing civil service instead of army which will be hehe "janitor" at a school for teenagers aged 15-18
07:52 < jardineworks:#liferay> I guess that means that Finland still has conscription?
07:52 < hufg:#liferay> not too keen on fighting in wars caused by other peoples stupidity+greed
07:52 < hufg:#liferay> yes
07:54 < hufg:#liferay> it will be grreat, back to boxing, back to snowboarding and i have already paid for art lessons
07:55 < hufg:#liferay> 8)
07:55 < jardineworks:#liferay> that sounds awesome... and I couldnt agree more about the war non sense.
07:55 < jardineworks:#liferay> did your site go live yet?
07:55 < hufg:#liferay> no but it will ;)
07:55 < hufg:#liferay> i'll post a link once it comes
07:57 < jardineworks:#liferay> sounds good.
08:00 < hufg:#liferay> feeling good about it
08:00 < jardineworks:#liferay> so how does it work? does your company keep your position while you are away?
08:00 < hufg:#liferay> yes
08:00 < jardineworks:#liferay> or do you have to look for a new job in a year?
08:00 < hufg:#liferay> it's the law 8)
08:01 < jardineworks:#liferay> figured... makes sense
08:01 < hufg:#liferay> it's like a long unpaid vacation
08:02 < hufg:#liferay> during that time the you get your rent paid and some food in your mouth
08:02 < hufg:#liferay> and thats about it
08:03 < hufg:#liferay> and i guess no need for loan payments etc. and they will pay the interest
08:03 < jardineworks:#liferay> too bad you couldn't also go somewhere hot :)
08:05 < jardineworks:#liferay> hey topolik1 do you have a minute for a friendly url question?
08:05 < hufg:#liferay> hehe yeah
08:08 < hufg:#liferay> my first blog post would be "you suck, liferay doesn't"
08:08 < hufg:#liferay> a provocative tone to lessen the mythical aura of bullshit surrounding liferay
08:08 < hufg:#liferay> 8)
08:09 < jardineworks:#liferay> hahaha great title
08:09 < topolik1:#liferay> jardineworks: hi, try it :)
08:09 < jardineworks:#liferay> topolik1, it's not working
08:09 < jardineworks:#liferay> :)
08:10 < jardineworks:#liferay> all the time...
08:10 < topolik1:#liferay> try harder :)
08:10 < jardineworks:#liferay> LOL
08:10 < jardineworks:#liferay> last night I did one, and it wasn't working... and then all of sudden magically it was working
08:10 < topolik1:#liferay> haha :D
08:10 < jardineworks:#liferay> this morning I am trying another which is also not working
08:10 < jardineworks:#liferay> and the magic still seems to be sleeping
08:11 < topolik1:#liferay> ok, let's wake it up :)
08:11 < topolik1:#liferay> I know children knows good wake-up spells
08:12 < jardineworks:#liferay> I think i understand how the mapper works (based on what I got working last night) .. but maybe if I could walk you through what I have...
08:12 < topolik1:#liferay> ok
08:12 < jardineworks:#liferay> my son could be a witch.
08:12 < jardineworks:#liferay> ok -- so first, my url http://localhost:8080/web/guest/recipes?p_auth=jU4TIJGH&p_p_id=recipesearch_WAR_recipeportlet&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&p_p_col_id=column-1&p_p_col_count=1&_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes
08:13 < jardineworks:#liferay> (let me pastie a couple of things)
08:13 < topolik1:#liferay> ok
08:14 < jardineworks:#liferay> topolik1, liferay-portlet.xml --> http://pastebin.com/AyNArx3v
08:15 < jardineworks:#liferay> topolik1, recipe-search-friendly-url-routes.xml --> http://pastebin.com/EmuJUJHw
08:16 < jardineworks:#liferay> (fixing the pattern to be /)
08:17 < jardineworks:#liferay> and now it is working :S
08:18 < topolik1:#liferay> :D
08:19 < topolik1:#liferay> good job!
08:20 < jardineworks:#liferay> lol
08:20 < jardineworks:#liferay> my son just woke uo
08:20 < jardineworks:#liferay> up*
08:20 < jardineworks:#liferay> hahaha
08:21 < jardineworks:#liferay> topolik1, can you have a route definition with no pattern? meaning <pattern/>?
08:21 < topolik1:#liferay> I don't know :)
08:21 < topolik1:#liferay> probably yes
08:22 < jardineworks:#liferay> what?! all my reading last night YOU were the guy answering all the friendly url questions :)
08:22 < topolik1:#liferay> haha :D
08:22 < topolik1:#liferay> you know how it is with my memory
08:22 < topolik1:#liferay> I frequently need to make space for new things :)
08:23 < jardineworks:#liferay> you should consider an upgrade. RAM is cheap these days.
08:26 < topolik1:#liferay> well, it seems that I  use only L2 caches :D
08:26 < jardineworks:#liferay> topolik1, do you know if it is possible to put render parameters in the resulting friendly url?
08:26 < jardineworks:#liferay> haha
08:27 < topolik1:#liferay> what do you mean by the resulting friendly url?
08:27 < topolik1:#liferay> all parameters you append to the friendly URL should be OK
08:27 < topolik1:#liferay> and (on the other hand)
08:28 < topolik1:#liferay> you should be able to configure static parameters for any friendly URL in the XML
08:30 < jardineworks:#liferay> topolik1,  in my code I forward the user at the end of the action to the render phase. before doing so I setParameter ... so sorry, not renderParameters, but basically parameters that are not appearing in the loooooooooong url. Specifically, I want to put the query into the url ... so if someone searches for meat sauce then I want it to show /recipe/-/search/meat-sauce ... right now it only shows /recipe/-/search
08:31 < jardineworks:#liferay> and when I remove the friendly url and look at the full url query string, my q parameter is not there
08:34 < topolik1:#liferay> jardineworks: uhm
08:34 < jardineworks:#liferay> am I asking a dumb question? :)
08:35 < topolik1:#liferay> no
08:35 < topolik1:#liferay> so in the action phase you set render parameter but the render parameter is not present in the render url, which is the nice friendly url ?
08:38 < jardineworks:#liferay> well, I am not setting it as a render parameter anymore... I was, but now I am creating a liferay portlet url and setting the parameter on it. Then at the end of the action, I am redirecting to that url.
08:38 < topolik1:#liferay> ok
08:38 < topolik1:#liferay> and that URL does not have the parameter?
08:39 < jardineworks:#liferay> well, I have not mapped it in my routes file so if it was there it should be showing (I think) .. but it is not.
08:50 < topolik1:#liferay> hmm, I need to try
08:50 < topolik1:#liferay> from code it seems it should work
08:50 < topolik1:#liferay> jardineworks: 6.1.2?
08:50 < jardineworks:#liferay> yep
08:54 < jardineworks:#liferay> topolik1, and it broke my search!
08:54 < jardineworks:#liferay> :(
08:55 < jardineworks:#liferay> which would explain the parameters missing probably
09:04 < hufg:#liferay> anyone ever realized how absolutely amazing glassfish command line tooling is?
09:05 < hufg:#liferay> i could start selling liferay domain installation scripts like it's nothing!
09:06 < jardineworks:#liferay> topolik1, This is like mad science. How would you create a map for this url? http://localhost:8080/web/guest/recipes?p_auth=jU4TIJGH&p_p_id=recipesearch_WAR_recipeportlet&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&p_p_col_id=column-1&p_p_col_count=1&_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes
09:07 < jardineworks:#liferay> I set all the paramters to ignored, except the last one which I set to implicit.
09:07 < jardineworks:#liferay> but it doesn't work.
09:16 < topolik1:#liferay> jardineworks: I don't remember, honestly :/
09:16 < jardineworks:#liferay> :9
09:16 < topolik1:#liferay> but the important params are p_p_lifecycle and javax.portlet.action
09:17 < jardineworks:#liferay> topolik1, ok -- so the issue is that I need the javax.portlet.action to be visible ... so how do I include it, but hide it?
09:17 < topolik1:#liferay> you should match these 2
09:17 < jardineworks:#liferay> implicit?
09:18 < topolik1:#liferay> looking at portal examples almost always the parameters are implicit
09:18 < topolik1:#liferay> thinking of it (trying to remember) - there are 2 processes
09:18 < topolik1:#liferay> 1. from params to friendly url
09:19 < topolik1:#liferay> 2. from friendly url to params
09:19 < topolik1:#liferay> implicit parameters seem to be hidden in URL but used in parameters
09:19 < jardineworks:#liferay> i see
09:19 < topolik1:#liferay> by "params" I mean parameters map
09:20 < jardineworks:#liferay> and the map only applies if ALL the parameters in the route definition are matched right?
09:20 < topolik1:#liferay> ok, looking at the DRD
09:20 < topolik1:#liferay> DTD
09:21 < topolik1:#liferay> ignored-parameter - Ignored parameters do not effect URL recognition.
09:21 < topolik1:#liferay> implicit-parameter -  is not present in the route pattern.
09:21 < topolik1:#liferay> overridden-parameter - a parameter that should be set to a certain value when a URL is recognized
09:22 < topolik1:#liferay> generated-parameter - a parameter that will be generated from other parameters when a URL is recognized
09:23 < topolik1:#liferay> so only implicit-parameter should be used to recognize the url to be built into friendly url
09:24 < jardineworks:#liferay> topolik1, if I ignore all those parameters but set the javax.portlet.action as <implicit-parameter name="javax.portlet.action">searchRecipes</implicit-parameter> it should match... and the search recipes should still be passed in the parameter map
09:25 -!- mode/#liferay [+o jhf] by ChanServ
09:26 < topolik1:#liferay> jardineworks: I'm not sure that you need to ignore all the other params
09:27 < jardineworks:#liferay> topolik1, but when you set somethin to implicit, then you need to specify the value right?
09:27 < topolik1:#liferay> or you don't need to specify it at all
09:27 < jardineworks:#liferay> so I would have to do <implicit-parameter name="p_p_mode">view</implicit-parameter> for example right?
09:27 < jardineworks:#liferay> oh
09:27 < jardineworks:#liferay> but if you don't specify it at all, it will be left in the url no?
09:28 < topolik1:#liferay> there are some ignored by default
09:28 < jardineworks:#liferay> oh
09:28 < jardineworks:#liferay> I didn;t know that
09:29 < topolik1:#liferay> https://github.com/liferay/liferay-portal/blob/6.1.1-ga2/portal-service/src/com/liferay/portal/kernel/portlet/DefaultFriendlyURLMapper.java#L55,L67
09:30 < topolik1:#liferay> I think they should be ignored or have a default value
09:30 < jardineworks:#liferay> so see.. if I just put the javax.portlet.action and the p_p_lifecycle as implicit parameters ... then my search fails
09:30 < jardineworks:#liferay> meaning the search action is never fired...
09:31 < jardineworks:#liferay> my portlet:actionURL seems to become a renderURL
09:34 < jardineworks:#liferay>  defaultReservedParameters.put("p_p_lifecycle", "0");
09:34 < jardineworks:#liferay> perhaps that should be overriden for me to 1
09:37 < topolik1:#liferay> yeah
09:38 < topolik1:#liferay> but that should be done with the lifecycle implicit param
09:41 < jardineworks:#liferay> topolik1, ok .. so if I have nothing bu <route><pattern>/</pattern></route> ... then I see the p_p_id, p_p_col_id, etc removed and my form url is set to
09:41 < jardineworks:#liferay> http://localhost:8080/web/guest/recipes/-/search/?p_auth=jU4TIJGH&p_p_lifecycle=1&_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes
09:41 < jardineworks:#liferay> but, when I click it...
09:41 < jardineworks:#liferay> it doesn't go to the action phase.
09:42 < jardineworks:#liferay> it executes my render url
09:43 < jardineworks:#liferay> sorry -- render method
09:50 < topolik1:#liferay> hmm
09:50 < topolik1:#liferay> do you need the portlet id prefix for friendly urls?
09:53 < jardineworks:#liferay> topolik1, not sure -- Liferay is just adding it for me
09:55 < topolik1:#liferay> hm, so liferay generates this url, but when you hit it it won't trigger the action phase?
09:55 < jardineworks:#liferay> right
09:59 < topolik1:#liferay> strange
10:00 < jardineworks:#liferay> ok -- from the top.
10:00 < jardineworks:#liferay> no friendly url configuration in the liferay-portlet.xml
10:01 < jardineworks:#liferay> in the page source for the action I see -- <form name="fm" method="post" action="http://localhost:8080/web/guest/recipes?p_auth=jU4TIJGH&amp;p_p_id=recipesearch_WAR_recipeportlet&amp;p_p_lifecycle=1&amp;p_p_state=normal&amp;p_p_mode=view&amp;p_p_col_id=column-1&amp;p_p_col_count=1&amp;_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes"> <div class="chalkboard-large-content-container"> <div class="chalkboard-filter-container"> <div class=
10:01 < jardineworks:#liferay> "row"> <div class="large-9 column"> <div class="row"> <div class="large-12 medium-12 small-12 columns"> <h3>Recipe Categories</h3> </div> </div> <div class="row"> <ul class="chalkboard-filter-checkbox-list"> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="979" id="ck1" name="category"> <label for="ck1">Appetizer</label> </li> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="983" id="ck2" name="cat
10:01 < jardineworks:#liferay> egory"> <label for="ck2">Dessert</label> </li> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="988" id="ck3" name="category"> <label for="ck3">Main Dish</label> </li> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="989" id="ck4" name="category"> <label for="ck4">Side Dish</label> </li> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="990" id="ck5" name="category"> <lab
10:01 < jardineworks:#liferay> el for="ck5">Snack</label> </li> <li class="large-4 medium-4 small-12 columns"> <input type="checkbox" value="1008" id="ck6" name="category"> <label for="ck6">Beverage</label> </li> </ul> </div> </div> <div class="large-3 column"> <div class="filter-checkbox-list"> <div class="row"> <div class="large-12 medium-12 small-12 columns"> <h3>Ingredients</h3> </div> </div> <p>Enter the ingredients you want to search for, separated by commas.</p> <fieldset> <in
10:01 < jardineworks:#liferay> put name="query" id="query" type="text" value=""> <a class="button small search" href="#">Apply</a> <script type="text/javascript">(function(b){var a=b(".chalkboard-large-container form");b("a.search",a).on("click",funct
10:01 < jardineworks:#liferay> woah
10:01 < jardineworks:#liferay> sorry
10:01 < jardineworks:#liferay> http://localhost:8080/web/guest/recipes?p_auth=jU4TIJGH&p_p_id=recipesearch_WAR_recipeportlet&p_p_lifecycle=1&p_p_state=normal&p_p_mode=view&p_p_col_id=column-1&p_p_col_count=1&_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes
10:01 < hufg:#liferay> cheers! bye!
10:01 < jardineworks:#liferay> and when I do the search, it works
10:01 < jardineworks:#liferay> bye hufg  -- best o fluck
10:01 < jardineworks:#liferay> haha
10:01 < jardineworks:#liferay> of luck.
10:02 < jardineworks:#liferay> add in the friendly url mapping to liferay-portlet.xml --> http://pastebin.com/AyNArx3v
10:03 < jardineworks:#liferay> add in the route mapping --> http://pastebin.com/dLBNNQpH
10:04 < jardineworks:#liferay> url in the page source is now -- http://localhost:8080/web/guest/recipes/-/recipe/search?p_auth=jU4TIJGH&p_p_lifecycle=1&_recipesearch_WAR_recipeportlet_javax.portlet.action=searchRecipes
10:05 < jardineworks:#liferay> which makes sense... all the default stuff is being hidden
10:05 < jardineworks:#liferay> lifecycle and action are present so it should still work.
10:05 < jardineworks:#liferay> try to search ...
10:05 < jardineworks:#liferay> it worked :|
10:06 < jardineworks:#liferay> ok...
10:06 < jardineworks:#liferay> BUT!
10:06 < jardineworks:#liferay> I want to hide the action and the lifecycle.
10:07 < jardineworks:#liferay> update the route file to --> http://pastebin.com/H16cXQtM
10:08 < jardineworks:#liferay> and the url in the page source is --> http://localhost:8080/web/guest/recipes/-/recipe/search?p_auth=jU4TIJGH
10:08 < jardineworks:#liferay> which is right since now I am hiding the action and the lifecycle.
10:09 < jardineworks:#liferay> and the search works
10:09 < jardineworks:#liferay> :S
10:09 < jardineworks:#liferay> apparently I just needed to type out everything I was doing.
10:16 < jardineworks:#liferay> ... and it doesn't work. wtf.
10:17 < jardineworks:#liferay> jhf, do you have any experience with friendly urls?
10:23 <@jhf:#liferay> jardineworks: nope :(
10:30 < jardineworks:#liferay> jhf -- no worries. I think I finally get it.
10:30 < jardineworks:#liferay> One more for the blog post list.
10:31 <@jhf:#liferay> (makes note of jardineworks as friendlyUrl expert)
10:31 < jardineworks:#liferay> yikes!
10:31 < jardineworks:#liferay> don't do that! lol
10:31 <@jhf:#liferay> (annotation: difficult to get along with)
10:31 <@jhf:#liferay> ;-)
10:37 < jardineworks:#liferay> haha
10:37 < jardineworks:#liferay> "not friendly"
10:37 < jardineworks:#liferay> funny -- like most things in your product, a horror to learn but once you understand how it works .. excellent design :)
10:38 <@jhf:#liferay> yeah... this year I'm going to start a bi-monthly 1-hour developer hangout, hoping to de-mystify many development tasks.. interested in holding a session? :)
10:39 < jardineworks:#liferay> for sure
10:39 <@jhf:#liferay> \o/ i'll follow up via email. probably some time in feb.
10:39 < jardineworks:#liferay> there is so much more content out there now than there was just a couple of years ago but its always the same
10:39 <@jhf:#liferay> (the session, not the follow-up) but its up to your (busy) schedule
10:40 < jardineworks:#liferay> "here is this neat thing... " ... and here is the simplest example of how to use it.
10:40 < jardineworks:#liferay> this project is supposed to roll out this month at which point I am hoping to hide from my clients for a few weeks ... maybe even the month of feb.
10:46 < jardineworks:#liferay> jhf, I'm still trying to find that rotty guy to ask him a question about search
